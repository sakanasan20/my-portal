<!-- Layout Navbar -->
<div th:fragment="navbar">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
		<!-- Logo -->
		<a class="navbar-brand" href="/">Portal</a>
		
		<div class="ms-auto">
			<!-- When not logged in -->
			<div sec:authorize="isAnonymous()">
				<!-- Login Button -->
				<a th:href="@{/oauth2/authorization/portal-client}" class="btn btn-outline-light">登入</a>
			</div>
			
			<!-- When logged in -->
			<div sec:authorize="isAuthenticated()">
				<!-- Welcome -->
				<span class="text-white me-2">歡迎，<span sec:authentication="name"></span></span>
				<!-- Logout Button -->
				<button type="button" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#logoutModal">登出</button>
			</div>
		</div>
	</nav>
	
	<!-- Logout Modal -->
	<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<!-- Modal Title -->
					<h5 class="modal-title" id="logoutModalLabel">確認登出</h5>
					<!-- Close Button -->
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="關閉"></button>
				</div>
				
				<!-- Modal Body -->
				<div class="modal-body">您確定要登出嗎？</div>
				
				<!-- Modal Footer -->
				<div class="modal-footer">
					<!-- Cancel Button -->
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
					
					<!-- Confirm Button -->
					<form th:action="@{/logout}" method="post">
						<input type="hidden" name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						<button type="submit" class="btn btn-danger">確認登出</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
	